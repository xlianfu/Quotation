<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>quotation</title>
    <link href="css/main.css" rel="stylesheet">
  	<script src="js/react.min.js"></script>
  	<script src="js/react-dom.min.js"></script>
  	<script src="js/browser.min.js"></script>
  	<script src="js/style.js"></script>
  </head>
  <body>
  	<div class="container">
  		<div class="content">
  			<p class="title"><span class="list_click">报价单列表页</span><span class="detail_click bg230">报价单详情页</span><span class="add_click bg230" style="border-right:2px solid rgb(119, 119, 119);">报价单添加页</span></p>

  			<!-- list_page -->
  			<div class="list_page">
				<ul>
					<li class="bold bg209 left2">序号</li>
					<li class="bold bg209">报价单名称</li>
					<li class="bold bg209">项目数量</li>
					<li class="bold bg209">创建日期</li>
					<li class="border_right width192 bold bg209 right2">总价</li>
				</ul>
				<!-- 动态数据 -->
				<div class="list_row"></div>
				<p class="bottp"></p>
			</div>

			<!-- detail_page -->
			<div class="detail_page">
				<ul class="width50">
					<li class="bold bg209 left2">甲方客户名称</li>
					<li class="bold bg209 right2 border_right">上海决胜整合品牌推广有限公司</li>
				</ul>
				<!-- 动态数据 -->
				<div class="product_list"></div>

				<!-- more -->
				<ul class="width50">
					<li id="padding0" class="left2">
						<ul class="smallItem">
							<li class="bg230 bottom0 left0">标题</li>
							<li class="bg230 bottom0">项目</li>
							<li class="bg230 bottom0">Item</li>
							<li class="bg230 bottom0">描述</li>
						</ul>
					</li>
					<li id="padding0" class="border_right right2">
						<ul class="smallItem">
							<li class="bg230 bottom0 left0">数量</li>
							<li class="bg230 bottom0">单位</li>
							<li class="bg230 bottom0">单价</li>
							<li class="bg230 bottom0">合计</li>
						</ul>
					</li>
				
					<!-- list datas -->
					<!-- 动态数据 -->
					<div class="list_datas"></div>

				</ul>
				<p class="bottp"></p>
			</div>

			<!-- add_page -->
			<div class="add_page">
				<!-- 动态数据 -->
				<div class="addProduct_list"></div>
				<p class="bottp"></p>

				<div class="product">
					<!-- 动态数据 -->
					<div class="pro"></div>
					<!-- 动态数据 -->
					<div class="in_item"></div>
				</div>

				<!-- sub product -->
				<!-- <div class="product sub_btn"> -->
					<!-- 动态数据 -->
					<div class="subpro"></div>
					<!-- 动态数据 -->
					<div class="sub_item"></div>
				<!-- </div> -->

				<!-- add sub product -->
				<!-- 动态数据 -->
				<div class="add_sub_btn"></div>

				<!-- last button -->
				<p class="addpro" style="margin-top: 30px;">添加项目</p>
				<p class="save" style="margin-bottom:40px;">保存</p>
			</div>
  			
  		</div>
  	</div>

  	<script type="text/babel">

  		// offer list page

  		//        序号      报价单名称                 项目数量   创建日期           总价
  		var no1 = [1,      '1603_Adidas-Neo',          2,       '2016-03-21',      '8,888'];
  		var no2 = [2,      '1604_Baiwei-Lottery',      1,       '2016-04-02',      '88,888'];
  		var no3 = [0,      0,                          0,        0,                 0];
  		var no4 = [0,      0,                          0,        0,                 0];

  		// 存放所有数据的数组
  		var datas = [];
  		// 把每一行数据添加到总数组中
  		datas.push(no1, no2, no3, no4);
  		
  		var rows = [];
  		var OfferList = React.createClass({
  			render: function(){
  				datas.map(function(data){
  					rows.push(
  						<ul className="offer_list">
							<li className="left2">{data[0]}</li>
							<li>{data[1]}</li>
							<li>{data[2]}</li>
							<li>{data[3]}</li>
							<li className="border_right width192 right2">{data[4]}</li>
						</ul>
  					);
  				})
  				return (
  					<div>{rows}</div>
  				);
  			}
  		});

  		ReactDOM.render(
  			<OfferList />,
  			document.querySelector('.list_row')
		);

		// detail list page

		//           标题       项目          Item             描述     数量    单位      单价       合计
		var list1 = ['1',      'H5抽奖',      0,               0,       0,      0,        0,       '3,000'];
		var list2 = ['1.1',    '前端开发',    0,               0,       0,      0,        0,        '3,000'];
		var list3 = ['1.1.1',   0,           '页面逻辑开发',   '描述',   1,     '套',     '1,000',  '1,000'];
		var list4 = ['1.1.2',   0,           '页面UI开发',     '描述',   2,     '套',     '1,000',  '2,000'];
		var list5 = ['1.2',    '后台开发',    0,               0,        0,     0,        0,        '1,000'];
		var list6 = ['0',       0,           '后台开发',       '描述',   1,     '套',     '1,000',  '1,000'];
		var list7 = ['0',      '未税小计',    0,               0,        0,     0,        0,        '4,000'];
		var list8 = ['0',      'Tax 3%',      0,               0,        0,     0,        0,        '120'];
		var list9 = ['0',      '总计',        0,               0,        0,     0,        0,        '4120'];

		// 存放所有list_datas列表项数据
		var lists = [];
		lists.push(list1, list2, list3, list4, list5, list6, list7, list8, list9);

		var list_datas = [];
		var DetailList = React.createClass({
			render: function(){
				lists.map(function(list){
					list_datas.push (
						<div>
							<li id="padding0" className="left2">
								<ul className="smallItem">
									<li className="bottom0 left0">{list[0]}</li>
									<li className="bottom0">{list[1]}</li>
									<li className="bottom0">{list[2]}</li>
									<li className="bottom0">{list[3]}</li>
								</ul>
							</li>
							<li id="padding0" className="border_right right2">
								<ul className="smallItem">
									<li className="bottom0 left0">{list[4]}</li>
									<li className="bottom0">{list[5]}</li>
									<li className="bottom0">{list[6]}</li>
									<li className="bottom0">{list[7]}</li>
								</ul>
							</li>
						</div>
					);
				})
				return (
					<div>{list_datas}</div>
				);
			}
		});

		ReactDOM.render(
			<DetailList />,
			document.querySelector('.list_datas')
		);

		// product list
		// clients: 甲方客户名称              brands: 上海决胜整合品牌推广有限公司
		var clients = [ '品牌名称',      '客户负责人',    '项目编号',   '项目名称',    '0',      '乙方公司(服务公司)',          '乙方项目负责人',       '项目编号',        '项目名称',     '日期' ];
		var brands = [  'Budweiser',     'Tony',          0,           'H5抽奖',      0,       '上海赢赞数字科技有限公司',      'Kavin',             'YZ-160313-1',    'H5抽奖',       '2016.03.13' ];

		var product_datas = [];
		var ProductList = React.createClass({
			render: function(){
				for(var i = 0; i < clients.length; i++){
					product_datas.push (
						<ul className="width50">
							<li className="left2">{this.props.client[i]}</li>
							<li className="border_right right2">{this.props.brand[i]}</li>
						</ul>
					);
				}
				return (
					<div>{product_datas}</div>
				);
			}
		});

		ReactDOM.render(
			<ProductList client={clients} brand={brands} />,
			document.querySelector('.product_list')
		);

		// add list page

		// clients: 甲方客户名称              brands: 上海决胜整合品牌推广有限公司
		var addClients = [ '品牌名称', '客户负责人', '项目编号', '项目名称', '0', '乙方公司(服务公司)', '乙方项目负责人', '项目编号', '项目名称', '日期' ];
		var addBrands = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];

		var addProduct_datas = [];
		// 标题名
		var client_name = '甲方客户名称';
		var brand_name = '上海决胜整合品牌推广有限公司';

		var ClientBrand = React.createClass({
			render: function(){
				addProduct_datas.push(
					<ul className="width50">
						<li className="bold bg209 left2"><input type="text" className="brandInput gray bold" defaultValue="甲方公司名称" /></li>
						<li className="bold bg209 right2 border_right"><input type="text" className="brandInput gray bold" defaultValue="乙方公司名称" /></li>
					</ul>
				);
				for(var i = 0; i < addClients.length; i++){
					addProduct_datas.push(
						<ul className="width50">
							<li className="left2"><input type="text" className="brandInput" placeholder="点击输入" /></li>
							<li className="border_right right2"><input type="text" className="brandInput" placeholder="点击输入" /></li>
						</ul>
					);
				}
				return (
					<div>{addProduct_datas}</div>
				);
			}
		});

		// addDetail: 添加详细报价项函数
		function addDetail(){
			ReactDOM.render(
				<ClientBrand />,
				document.querySelector('.addProduct_list')
			);
		}
		addDetail();

		// 详细报价： 公共部分
		var product_common = [];
		product_common.push(
			<div>
				<p className="product_title">详细报价项</p>
				<p className="product_5_list">
					<span className="width147">描述</span>
					<span>数量</span>
					<span>单位</span>
					<span>单价</span>
					<span className="borderight">合计</span>
				</p>
			</div>
		);

		// product 项目
		var product_name = '瓶盖游戏';
		var sub_product_name = '前端开发';

		// 添加input输入框
		var items = [];
		items.push(
			<p className="product_5_list2">
				<input type="text" className="width409" />
				<input type="text" />
				<input type="text" />
				<input type="text" />
				<input type="text" className="border1" />
			</p>
		);

		var products = [];
		products.push(
			<div>
				<p className="product_list"><span>项目名称：</span><input type="text" value={product_name} /></p>
				<p className="product_list"><span>子项目名称：</span><input type="text" value={sub_product_name} /></p>
			</div>
		);

		// 添加公共部分
		products.push(
			<div>{product_common}</div>
		);
		// 添加输入行
		products.push(
			<div>{items}</div>,
			<div>{items}</div>
		);

		var AddProduct = React.createClass({
			render: function(){
				return (
					<div>{products}</div>
				);
			}
		});

		ReactDOM.render(
			<AddProduct />,
			document.querySelector('.pro')
		);

		// sub product 子项目
		var sub_products = [];
		sub_products.push(
			<div>
				<p className="product_list"><span>子项目名称：</span><input type="text" value={sub_product_name} /></p>
			</div>
		);

		// 添加公共部分
		sub_products.push(
			<div>{product_common}</div>
		);
		// 添加输入行
		sub_products.push(
			<div>{items}</div>,
			<div>{items}</div>
		);

		var subs = [];
		// pushSubProduct: 添加子项目的函数
		function pushSubProduct(){
			subs.push (
				<div className="product sub_btn">{sub_products}</div>
			);

			var AddSubProduct = React.createClass({
				render: function(){
					return (
						<div>{subs}</div>
					);
				}
			});

			ReactDOM.render(
				<AddSubProduct />,
				document.querySelector('.subpro')
			);
		}
		
		// 执行一次函数，添加一个子项目
		pushSubProduct();
		
		// 添加子项目按钮

		// 点击添加子项目按钮，添加子项目
		function subHandleClick(){
			pushSubProduct();
		}
		// 点击添加详细报价项按钮，添加详细报价项
		function detailHandleClick(){
			addDetail();
		}

		var add_sub = [];
		add_sub.push(
			<div className="add">
				<p className="add_p">
					<span onClick={subHandleClick}>添加子项目</span>
					<span onClick={detailHandleClick} style={{marginLeft: '65px'}}>添加详细报价项</span>
				</p>
			</div>
		);

		var AddSubProduct = React.createClass({
			render: function(){
				return (
					<div>{add_sub}</div>
				);
			}
		});

		ReactDOM.render(
			<AddSubProduct />,
			document.querySelector(".add_sub_btn")
		);

  	</script>

  </body>
</html>
